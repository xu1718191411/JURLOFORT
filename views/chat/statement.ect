<!DOCTYPE html>
<html>
<head>
	<title>HTML5 Textarea Example</title>
</head>
<body>

	<!-- STYLE  SECTION -->
  <style type="text/css">

  textarea,.dissentContent {

  	width: 30em; /* the inital width of the textarea */
  	height: 8em; /* the inital height of the textarea */

  	max-width: 40em; /* the maximum width of the textarea */
  	max-height: 15em; /* the maximum height of the textarea */

  	padding: 1em;

  	font-family: "Montserrat", "sans-serif";
  	font-size: 1em;

  	border: 0.1em solid #ccc;
  	border-radius: 0.5em;

  	background-color: #ffffe6;

  }

  .dissentContent{
  	height: 4em; /* the inital height of the textarea */
  }

  .dissent{
    	padding-left: 0.8em;
    	font-family: "Montserrat", "sans-serif";
    	font-size: 1em;
  }

  .btn {
    background: #3498db;
    background-image: -webkit-linear-gradient(top, #3498db, #2980b9);
    background-image: -moz-linear-gradient(top, #3498db, #2980b9);
    background-image: -ms-linear-gradient(top, #3498db, #2980b9);
    background-image: -o-linear-gradient(top, #3498db, #2980b9);
    background-image: linear-gradient(to bottom, #3498db, #2980b9);
    -webkit-border-radius: 28;
    -moz-border-radius: 28;
    border-radius: 28px;
    font-family: Arial;
    color: #ffffff;
    font-size: 20px;
    padding: 10px 20px 10px 20px;
    text-decoration: none;
  }

  .btn:hover {
    background: #3cb0fd;
    background-image: -webkit-linear-gradient(top, #3cb0fd, #3498db);
    background-image: -moz-linear-gradient(top, #3cb0fd, #3498db);
    background-image: -ms-linear-gradient(top, #3cb0fd, #3498db);
    background-image: -o-linear-gradient(top, #3cb0fd, #3498db);
    background-image: linear-gradient(to bottom, #3cb0fd, #3498db);
    text-decoration: none;
  }

  .a{
    float:left;
  }

  .a_button{
    margin-top:120px;
  }

  </style>

 <script src="http://code.jquery.com/jquery.min.js"></script>
     <script>
        window.onload = function(){

                $(".btn").click(function(e){
                    e.preventDefault();
                    var textContent = $("#textContent").val();

                    var dissentContents = $(".dissentContent");
                    var dissentContentsArr = [];

                    for(var i=0;i<dissentContents.length-1;i++){
                           var til = $(dissentContents[i+1]).siblings(".dissent").text();
                           var con = $(dissentContents[i+1]).val();
                           dissentContentsArr.push({"title":til,"content":con});
                    }

                    console.log(dissentContentsArr);

                    iframeData = {textContent:textContent,dissentContentsArr:dissentContentsArr};
                    parent.setInformation(iframeData);

                    $("#textContent").val("")
                });

        }


     </script>
	<!-- HTML SECTION  -->

    <div class="dissentC" style="display:none">
            <hr>
            <p class="dissent">adadasdasdasd</p>
           	<textarea class="dissentContent" placeholder="あなたのコメントをここに書いてください..."></textarea>
    </div>

	<div id="clear" style="clear:both;"></div>
	<div class="a">
	<textarea id="textContent" placeholder="あなたのコメントをここに書いてください..."></textarea>
	</div>
	<div class="a">
	<div class="a_button">
	<button class="btn">サブミット</button>
	</div>
	</div>
</body>
</html>

<script>

    window.dissentExplainNum = 0;
    function addDissent(title,val){
        window.dissentExplainNum++;
        $("#clear").prepend("<div id='"+window.dissentExplainNum+"'></div>");
        $("#"+window.dissentExplainNum).html($(".dissentC").html());
        $("#"+window.dissentExplainNum).children("textarea").val(val);
        $("#"+window.dissentExplainNum).children(".dissent").text(title);
    }

</script>